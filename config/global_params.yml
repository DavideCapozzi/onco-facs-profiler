# ==============================================================================
# PROJECT CONFIGURATION: CLR Network Inference
# ==============================================================================

# --- Setup ---
output_root: "results"
project_name: "longsurvivors"
input_file: "/mnt/c/Users/Davide/Desktop/Davide/bandi/0dottorato/projects/long survivors/DB_standardizzatov4.xlsx"

# --- ANALYSIS TARGETS ---
# Define here exactly which groups form the analysis.
# Names must match the values in the 'stratification.column' (e.g., Original_Source).
control_group: "Healthy_Donors"
case_groups: ["HNSCC", "NSCLC", "NSCLC_LS", "HNSCC_LS"] 
# --- STRATIFICATION LOGIC ---
# "selection" mode simply promotes the target column to be the main grouping variable.
stratification:
  mode: "selection"             # Mode: direct selection from metadata
  column: "Original_Source"     # Metadata column containing the precise group names

# --- COHORTS MAPPING ---
cohorts:
  NSCLC: "NSCLC"
  HNSCC: "HNSCC"
  Healthy_Donors: "Healthy_Donors"

marker_selection:
  whitelist: []      
  blacklist: [] 

sample_selection:
  blacklist: ["DS51.fcs"]  

hybrid_groups:
  Differentiation: []
  Lineage: []  
  Treg_Status: []
  
metadata:
  subgroup_col: "Original_Source"

# --- VISUALS & COLORS ---
colors:
  # Palette for generic case mapping if specific names are not found below
  control: "#2E8B57"        
  cases: ["#CD5C5C", "#4682B4", "#9932CC", "#FF8C00"] 

  # Specific color mapping for precise group names found in Original_Source
  groups:
    # Macro groups
    NSCLC: "#CD5C5C"         
    HNSCC: "#4682B4"         
    Healthy_Donors: "#2E8B57" 

  highlight: "#FFD700"  

  heatmap:
    low: "#2166AC"    
    mid: "#F7F7F7"    
    high: "#B2182B"   
  
  plsda:
    positive: "#CD5C5C" 
    negative: "#4682B4" 
    
  distribution:
    mean: "darkred"
    median: "black"

viz:
  min_edge_weight: 0.15 
  heatmap_metadata: ["Group", "Original_Source"]
  merge_case_groups: false
  highlight_pattern: "_LS"

# --- Quality Control ---
qc:
  max_na_row_pct: 0.55   
  max_na_col_pct: 0.20  
  remove_outliers: true
  outlier_conf_level: 0.99

# --- Imputation (CoDa) ---
imputation:
  method: "czm_multrepl"      
  epsilon: 0.000001

# --- Multivariate & Interpretation ---
multivariate:
  run_plsda: true
  n_comp: 2           
  validation_folds: 5 
  n_repeat_cv: 50
  top_n_loadings: 15  

# --- Inference Statistics ---
stats:
  seed: 2025
  n_boot: 1000        
  n_perm: 2000        
  alpha: 0.05         
  fdr_threshold: 0.1 
  n_cores: "auto"

